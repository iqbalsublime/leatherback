<h3>{{ 'MODIFY_USER' | translate }}</h3>
<div class="col-md-12 well">
	<alert ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert($index)">{{alert.msg}}</alert>
	 <form class="form-horizontal" name="userForm" ng-submit="submit(userForm.$valid)" novalidate> <!-- novalidate prevents HTML5 validation since we will be validating ourselves -->
	
	  <div class="form-group" ng-class="{ 'has-error' : userForm.name.$invalid && !userForm.name.$pristine }">
	    <label for="label-name" class="col-sm-2 control-label">{{ 'NAME' | translate }}</label>
	    <div class="col-sm-3">
	      <input type="text" name="name" ng-model="user.name" class="form-control" required>	
	      <p ng-show="userForm.name.$invalid && !userForm.name.$pristine" class="help-block">{{ 'THE_FIELD_IS_REQUIRED' | translate }}</p>
	    </div>
	  </div>
	  
	  <div class="form-group">
	    <label for="label-name" class="col-sm-2 control-label">{{ 'USERNAME' | translate }}</label>
	    <div class="col-sm-3">
	      {{user.username}}	
	    </div>
	  </div>
	  
	  <div class="form-group" ng-class="{ 'has-error' : userForm.password.$invalid && !userForm.password.$pristine }">
	    <label for="label-password" class="col-sm-2 control-label">{{ 'NEW_PASSWORD' | translate }}</label>
	    <div class="col-sm-3">
	      <input type="password" name="password" ng-model="user.password" class="form-control" placeholder="{{ 'MSG_NEW_PASSWORD' | translate }}" ng-minlength="3" ng-maxlength="13" required>
	      <p ng-show="userForm.password.$error.required" class="help-block">{{ 'THE_FIELD_IS_REQUIRED' | translate }}</p>
	      <p ng-show="userForm.password.$error.minlength" class="help-block">{{ 'DATA_TOO_SHORT' | translate }}</p>
          <p ng-show="userForm.password.$error.maxlength" class="help-block">{{ 'DATA_TOO_LONG' | translate }}</p>
	    </div>
	  </div>
	  
	  <div class="form-group" ng-class="{ 'has-error' : userForm.newPasswordConfirm.$invalid && !userForm.newPasswordConfirm.$pristine }">
	    <label for="label-password-again" class="col-sm-2 control-label">{{ 'NEW_PASSWORD_AGAIN' | translate }}</label>
	    <div class="col-sm-3">
	      <input type="password" name="newPasswordConfirm" ng-model="newPasswordConfirm" class="form-control" placeholder="{{ 'MSG_NEW_PASSWORD_AGAIN' | translate }}" match="user.password">
	      <p ng-show="userForm.newPasswordConfirm.$error.match" class="help-block">{{ 'PASSWORD_DOES_NOT_MATCH' | translate }}</p>	
	    </div>
	  </div>
	  
	  <div class="form-group">
		  <div class="form-inline">
		    <label for="label-name" class="col-sm-2 control-label">{{ 'FUNCTIONS_AUTHORISATION' | translate }}</label>
		    <div class="col-sm-3">
		      <input type="checkbox" ng-model="user.authorisation.accessUserModule"> {{ 'REPORT_OUTPUT' | translate }} &nbsp;&nbsp;
		      <input type="checkbox" ng-model="user.authorisation.accessReportModule"> {{ 'AUTHORISATION_MANAGE' | translate }}
		    </div>
		  </div>
	  </div>
	  
	  <div class="form-group">
		  <div class="form-inline">
		    <label for="label-name" class="col-sm-2 control-label">{{ 'PRESCRIPTION_AUTHORISATION' | translate }}</label>
		    <div class="col-sm-6">
		      <input type="checkbox" ng-model="user.authorisation.createPrescription"> {{ 'PRESCRIPTION_CREATION_AUTH' | translate }} &nbsp;&nbsp;
		      <input type="checkbox" ng-model="user.authorisation.modifyPrescription"> {{ 'PRESCRIPTION_MODIFICATION_AUTH' | translate }} &nbsp;&nbsp;
		      <input type="checkbox" ng-model="user.authorisation.deletePrescription"> {{ 'PRESCRIPTION_DELETION_AUTH' | translate }} &nbsp;&nbsp;
		      <input type="checkbox" ng-model="user.authorisation.listPrescription"> {{ 'PRESCRIPTION_LIST_AUTH' | translate }}
		    </div>
		  </div>
	  </div>
	  
	  <div class="form-group">
	    <div class="col-sm-offset-2 col-sm-10">
			<jp-ng-bs-animated-button is-submitting="isSubmitting" result="result" options="options" ng-disabled="userForm.$invalid"></jp-ng-bs-animated-button>
	      	<button type="button" class="btn btn-default" ng-click="cancel()">{{ 'CANCEL' | translate }}</button>
	    </div>
	  </div>
	  
	</form>
</div>